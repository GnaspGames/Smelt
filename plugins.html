<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">

    <title>one-command by Gnasp</title>
  </head>

  <body>

    <header>
      <div class="container">
		<img src="images/logo.png" id="logo" />
        <h2>A CLI tool for Minecraft map makers; used to compile commands into one-command installers.</h2>

        <section id="downloads">
          <a href="index.html" class="btn">README</a>
          <a href="syntax.html" class="btn">Syntax</a>
          <a href="bangcommands.html" class="btn">Bang Commands</a>
          <a href="plugins.html" class="btn">Plugins</a>
          <a href="configuration.html" class="btn">Configuration</a>
          <a href="https://github.com/GnaspGames/one-command" target="_blank" class="btn btn-github">
            <span class="icon"></span>View on GitHub
          </a>
          <a href="https://github.com/GnaspGames/one-command/issues" target="_blank" class="btn btn-github">
            <span class="icon"></span>Bugs / Ideas
          </a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
	  
		<!--- CONTENT-GOES-HERE --->


<h1 id="plugins">Plugins</h1>
<p>Now one-command also supports plugins! These can be used to add to the<br>available &quot;bang commands&quot; built into <em>one-command</em>.</p>
<p>Plugins need to be installed into a <code>/one-commang/plugins/</code> directory alongside the .mcc files you plan on<br>processing. </p>
<p>You can see an example of this in the <code>demo</code> directory included in the git repository<br>for this project. There is a <code>sayred.js</code> plugin in the <code>/one-commang/plugins/</code> directory.<br>You can see this being used in the <code>demo.mcc</code> file.</p>
<p>Plugins can also declare <em>setup</em> .mcc files that need to be installed into your map for the<br>commands generated by the plugin to work correctly. </p>
<p><strong><em>Warning:</em></strong> The work on plugins will continue and so the API for plugins is subject to<br>change a lot in this early development.</p>
<hr>
<h2 id="building-a-plugin">Building a plugin</h2>
<p>Building a plugin is as easy as writing JavaScript. That&#39;s because they are written in JavaScript!</p>
<p>In addition, plugins are runin NodeJS, so you can also use any native node modules (such as &#39;util&#39;).</p>
<p>A basic plugin called <code>!sayred</code> would be written in a file called <code>sayred.js</code>. The code inside would be:</p>
<pre><code>var util = require(&quot;util&quot;);

var sayred = function(args, addCommand, addSetup)
{            
    var message = args.join(&quot; &quot;);

    var command = &quot;/tellraw @a [{\&quot;text\&quot;:\&quot;%s\&quot;,\&quot;color\&quot;:\&quot;red\&quot;}]&quot;;

    addCommand(util.format(command, message));

    addSetup(&quot;sayred-setup.mcc&quot;);
}

module.exports = sayred;
</code></pre><p>Notice that the plugin calls two callback methods, <code>addCommand</code> and <code>addSetup</code>.</p>
<h3 id="addcommand-command-options-">addCommand(command, options)</h3>
<p>The <code>addCommand</code> method can be used many times to create the Minecraft<br>commands that your plugin generates. </p>
<p>The first parameter is the <code>command</code> string. </p>
<p>The second parameter is optional, and can take additional <code>options</code> for<br>that command simular to the JSON options used in the <code>.mcc</code> syntax.</p>
<pre><code>addCommand(&quot;/testfor Gnasp&quot;, {type:&quot;repeating&quot;,auto:true,conditional:false});
</code></pre><h3 id="addsetup-filename-">addSetup(filename)</h3>
<p>The <code>addSetup</code> method is used to also tell <em>one-command</em> that for this plugin to work,<br>another command module needs to be installed into the map. </p>
<p>The file referenced has to be included alongside your JavaScript file.</p>
<pre><code>addSetup(&quot;sayred-setup.mcc&quot;);
</code></pre>

      </section>
    </div>
    
  </body>
</html>
