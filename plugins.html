---
layout: default
title: Plugins
weight: 4
nav: top
---
	  
		<!--- CONTENT-GOES-HERE --->
<h1 id="plugins">Plugins</h1>
<p>Now <em>Smelt</em> also supports plugins! These can be used to add to the<br>available &quot;bang commands&quot; built into <em>Smelt</em>.</p>
<p>Plugins need to be installed into a <code>/.smelt/plugins/</code> directory alongside the .mcc files you plan on<br>processing. </p>
<p>You can see an example of this in the <code>demo</code> directory included in the git repository<br>for this project. There is a <code>sayred.js</code> plugin in the <code>/.smelt/plugins/</code> directory.<br>You can see this being used in the <code>demo.mcc</code> file.</p>
<p>Plugins can also declare <em>setup</em> .mcc files that need to be installed into your map for the<br>commands generated by the plugin to work correctly. </p>
<p><strong><em>Warning:</em></strong> The work on plugins will continue and so the API for plugins is subject to<br>change a lot in this early development.</p>
<hr>
<h2 id="building-a-plugin">Building a plugin</h2>
<p>Building a plugin is as easy as writing JavaScript. That&#39;s because they are written in JavaScript!</p>
<p>In addition, plugins are runin NodeJS, so you can also use any native node modules (such as &#39;util&#39;).</p>
<p>A basic plugin called <code>!sayred</code> would be written in a file called <code>sayred.js</code>. The code inside would be:</p>
<pre><code>var util = require(&quot;util&quot;);

var sayred = function(args, addCommand, addSetup)
{            
    var message = args.join(&quot; &quot;);

    var command = &quot;/tellraw @a [{\&quot;text\&quot;:\&quot;%s\&quot;,\&quot;color\&quot;:\&quot;red\&quot;}]&quot;;

    addCommand(util.format(command, message));

    addSetup(&quot;sayred-setup.mcc&quot;);
}

module.exports = sayred;
</code></pre><p>Notice that the plugin calls two callback methods, <code>addCommand</code> and <code>addSetup</code>.</p>
<h3 id="addcommand-command-options-">addCommand(command, options)</h3>
<p>The <code>addCommand</code> method can be used many times to create the Minecraft<br>commands that your plugin generates. </p>
<p>The first parameter is the <code>command</code> string. </p>
<p>The second parameter is optional, and can take additional <code>options</code> for<br>that command simular to the JSON options used in the <code>.mcc</code> syntax.</p>
<pre><code>addCommand(&quot;/testfor Gnasp&quot;, {type:&quot;repeating&quot;,auto:true,conditional:false});
</code></pre><h3 id="addsetup-filename-">addSetup(filename)</h3>
<p>The <code>addSetup</code> method is used to also tell <em>Smelt</em> that for this plugin to work,<br>another command module needs to be installed into the map. </p>
<p>The file referenced has to be included alongside your JavaScript file.</p>
<pre><code>addSetup(&quot;sayred-setup.mcc&quot;);
</code></pre>